#######################################################################
# This file is managed by salt. Manual changes risk being overwritten.
#######################################################################
{%- set ejabberd = pillar.get('ejabberd', {}) %}
loglevel: {{ ejabberd.loglevel }}

{% if ejabberd.hosts %}
hosts:
{% for host in ejabberd.hosts %}
  - {{ host }}
{% endfor %}
{% endif %}

listen:
{% for listen_item in ejabberd.listen -%}
  -
    {%- for key,value in listen_item|dictsort %}
    {{ key }}: {{ value }}
  {% endfor %}
{% endfor %}
acl:
{%- for acl_item in ejabberd.acl %}
  {{ acl_item }}
{% endfor %}
access:
{%- for access_item in ejabberd.access %}
  {{ access_item }}
{% endfor %}
modules:
{%- for module in ejabberd.modules %}
  {{ module }}
{% endfor %}
auth_method: {{ ejabberd.auth_method }}

### Local Variables:
### mode: yaml
### End:
### vim: set filetype=yaml tabstop=8
