# -*- coding: utf-8 -*-
# vim: ft=jinja
{%- set tplroot = tpldir.split('/')[0] %}
{%- import_yaml tplroot ~ "/defaults.yaml" as default_settings %}
{% set ejabberd = salt['grains.filter_by']({
    'Debian': {
        'config': {
            'base': '/etc/ejabberd',
            'filename': 'ejabberd.yml',
           },
        'package': 'ejabberd',
    },
    'Gentoo': {
        'config': {
            'base': '/etc/ejabberd',
            'filename': 'ejabberd.yml',
           },
        'package': 'ejabberd',
    },
    'Arch': {
        'config': {
            'base': '/etc/ejabberd',
            'filename': 'ejabberd.yml',
            },
        'package': 'ejabberd',
    },
    'RedHat': {
        'config': {
            'base': '/etc/ejabberd',
            'filename': 'ejabberd.yml',
            },
        'package': 'ejabberd',
    },
    'FreeBSD': {
        'config': {
            'base': '/usr/local/etc/ejabberd',
            'filename': 'ejabberd.yml',
           },
        'package': ['ejabberd'],
    },
    'default': {
        'config': {
            'base': '/etc/ejabberd',
            'filename': 'ejabberd.yml',
           },
        'package': 'ejabberd',
    },
}, merge=salt['pillar.get']('ejabberd:lookup', default=default_settings.ejabberd, merge=True)) %}
